关于比特币扩容的争论：背景，方案与未来

![](https://i.imgur.com/zCSz3H0.png)

针对比特币一个常见的批评是“它不能扩容”，根据当前的实现，比特币网络没有能力支撑一个需要每秒达数千笔交易的全球性支付系统。就目前来说，这确实是事实。比特币所能支持的[交易上限是每秒7笔]((https://link.springer.com/chapter/10.1007%2F978-3-662-53357-4_8))，而通常来说 Visa 每秒可处理 2000 笔交易（甚至可以达到[每秒约 56000 笔](https://usa.visa.com/dam/VCOM/download/corporate/media/visa-fact-sheet-Jun2015.pdf)）。

**然而，这种批评是有失偏颇的，它并没有说明比特币是否*有扩容的潜力*。更有趣的问题是：**

* 比特币是否有能力每秒处理 7 笔以上交易？
* 如果说比特币可以通过扩容支持每秒更多的交易，该怎么做？
* 如果有不止一个可行方案，哪一个是最好的？  

针对比特币扩容的争论几乎是从加密货币开始出现就一直在持续。本文会提供比特币扩容争议的背景，回顾所提出的解决方案，并放眼未来以确定比特币是否可以通过扩容达到每秒处理数千笔交易，如果可以，需要怎么做。
 
保持灼见并认识到即使不能每秒钟处理成千上万笔交易，比特币仍然是有很高价值这点儿也是很重要的。可以说，比特币已经通过近 10 年免受攻击的运行证明了它的非凡价值。

## 背景
多年来，有很多不同的建议被提出作为提高比特币有限的交易速率的方案。其中一个最为流行和持久的提议就是增加比特币区块大小，比特币当前区块大小是 1M。若干交易被组合到一起放到区块里，然后被网络节点所验证，这意味着一个更大的区块可以打包并处理更多的交易（大约[每 10 分钟](https://coincenter.org/entry/how-long-does-it-take-for-a-bitcoin-transaction-to-be-confirmed)登记一个区块）。从历史上来讲，比特币区块大小被设置为 1MB 主要是用来作为限制垃圾交易和 DDos 攻击的一种方式（尽管在这点儿上并没有明确的说法，[曾有报道称中本聪在未发布任何通知的情况下将 1M 区块大小的限制引入代码库并随后在被问及此事时提供了做这个决定的原因](https://en.bitcoin.it/wiki/Block_size_limit_controversy))。然而，改变区块大小长期以来时富有争议的，因为更大的区块会减少能够成功通过竞争去验证交易的矿工数量。正如 [BitcoinWiki](http://therefore/,%20larger%20blocks%20lead%20to%20less%20hashers%20running%20full%20nodes,%20which%20leads%20to%20centralized%20entities%20having%20more%20power,%20which%20makes%20Bitcoin%20require%20more%20trust,%20which%20weakens%20Bitcoins%20value%20proposition.) 所解释的那样，“更大的区块会使全节点的运营成本更高。这样一来，更大的区块导致更少人去运行全结点，继而导致中心化实体拥有更多算力，这会让比特币的运行依赖更多的信任，从而消弱比特币的价值主张。” 出于这个原因，一些社区成员担心增加比特币区块大小会让网络的去中心化属性受到威胁。  
 
最近，比特币通过软分叉（[这里有对加密货币软分叉的解释](https://hackernoon.com/an-explanation-of-cryptocurrency-forks-65d79efe214c)）引入了隔离见证 (SegWit)，如维基百科所述，“这次更新旨在解决[交易延展性](https://en.wikipedia.org/w/index.php?title=Transaction_malleability&amp;action=edit&amp;redlink=1)这么一个在比特币安全方面的已知缺陷。隔离见证是一种将签名数据从交易数据中隔离出来的机制。隔离见证作为一种扩容方案，在两个方面会对比特币产生影响，一个是它改变了数据在每个比特币区块上的存储方式，另一个是 SegWit 在保持与早期版本比特币软件兼容的情况下提升了交易容量。它修复了交易延展性这个其它比特币项目的绊脚石。SegWit 允许一种更简单的方式去实现[闪电网络](https://en.wikipedia.org/wiki/Lightning_Network)。”

这个持续的争论导致了 2017 年 8 月的一次比特币硬分叉和比特币现金的创立，比特币现金原封不动的复制了比特币协议，只是将区块大小增加到了 8MB（[这里](https://www.investopedia.com/tech/bitcoin-vs-bitcoin-cash-whats-difference/)可以查看比特币与比特现金更多的不同）。

## 方案
### 隔离见证/闪电网络
如上所述, 在 2017 年 7 月, 比特币通过软分叉实现了隔离见证 (SegWit) , 这使得每个区块中存储的信息量增加了一倍。 对于比特币的长期扩容潜力来说, 或许更重要的是, SegWit 还支持像闪电网络这样的第二层交易网络。 正如"闪电网络"白皮书所述, "闪电网络是一个用于即时、大量的小额支付的去中心化系统, 消除了将资金托管给可信任的第三方的风险。... 小额支付, 或者那些少于几美分的付款, 并没有得到一致的确认, 而且费用问题也使得这些交易在今天的比特币网络上不可行。 闪电网络解决了这些问题。 它是使用比特币内置脚本构造多方智能合约 (可编程货币) 的首批实现者之一。 闪电网络正在引领比特币多方金融计算的技术发展。" 闪电网络引入了一种使交易在”链下“进行来消除比特币网络负担的方法，去解决比特币扩容问题。 正如白皮书接下来所述, 它是通过下面的方式来实现的: "资金被放入一个双方多签名的比特币“通道”地址。 这个通道是比特币公共账本中的一个条目。 为了花费通道中的资金, 双方必须就新的余额达成一致。 当前的余额是作为通过通道地址花费并被存储为双方最近签署的交易来存储的。 为了创建一个交易, 双方需要签署一个支出来自通道地址的新的退出交易。 所有旧的退出交易通过这样做后都会失效。 闪电网络不要求双方合作去退出该通道。 双方都可以选择单方面关闭通道, 结束他们的关系。 由于所有各方都有多个多重签名的通道, 在这个网络上有许多不同的用户, 人们可以通过这个网络向其他任何一方发送付款。" 闪电网络在比特币交易中带来了一种类似智能合约的能力, 使得交易可以再链下进行。

闪电网络仍处于早期开发阶段, 但在潜在减少比特币网络所面临的交易负载方面已经显示出了希望。 闪电网络还介绍了其他第二层离链方法的技术, 如等离子体的空间。 这些第二层网络显示了比特币交易率扩大的最具体进展。

### 增大区块
不可避免的是, 正如过去几年一样, 增加区块大小将作为一种解决方案重新提出。 有关增加区块大小会带来多大程度失去去中心化风险的争论仍会继续。然而, 关于增加所使用区块大小的实践性方面, 有一个重要的注意事项是, 增加区块大小只能线性提高每秒的事务量。 将比特币的块大小增加到 8MB (正如比特币现金所做的那样) 只能在理论上达到的每秒 56 笔交易（7 / txs * 8x 的区块大小增加） , 而像 Visa 这样的全球支付网络通常每秒能处理 2000 个交易。 因此, 这意味着增加区块大小似乎只能作为这个结构性问题的短期解决方案, 这个问题可以通过第二层网络这样的解决方案得到更好的解决。

## 未来
现在判断比特币是否能够容纳每秒钟数千笔交易或者说社区是否会一致认为应该这样做还为时尚早。 如果最终需要扩容, 不管所需要的改变是来自对底层区块链的修改，还是来自那些“栈上”方案，像第二层网络那样维护一个传统比特币区块链并构建在其之上，都是令人着迷的。历史表明, 比特币开发者强烈希望维持当前的块大小和协议, 并且更愿意看到构建在其之上适应相应交易量的适配性方案。 此外，像 SegWit 这样的新开发项目可能会带来无法预料的解决方案。

via: [https://hackernoon.com/the-bitcoin-scaling-debate-context-proposed-solutions-and-the-future-579f9373e24b](https://hackernoon.com/the-bitcoin-scaling-debate-context-proposed-solutions-and-the-future-579f9373e24b)。  
作者：[Phil Glazer](https://hackernoon.com/@philglazer).   
译者：[Ashton](https://github.com/cdljsj)